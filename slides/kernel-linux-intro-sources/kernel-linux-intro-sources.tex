\subsection{Linux kernel sources}

\begin{frame}
  \frametitle{Location of kernel sources}
  \begin{itemize}
  \item The official version of the Linux kernel, as released by Linus
    Torvalds is available at \url{http://www.kernel.org}
    \begin{itemize}
    \item This version follows the well-defined development model of
      the kernel
    \item However, it may not contain the latest development from a
      specific area, due to the organization of the development model
      and because features in development might not be ready for
      mainline inclusion
    \end{itemize}
  \item Many kernel sub-communities maintain their own kernel, with
    usually newer but less stable features
    \begin{itemize}
    \item Architecture communities (ARM, MIPS, PowerPC, etc.), device
      drivers communities (I2C, SPI, USB, PCI, network, etc.), other
      communities (real-time, etc.)
    \item They generally don't release official versions, only
      development trees are available
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Getting Linux sources}
  \begin{itemize}

  \item The kernel sources are available from
    \url{http://kernel.org/pub/linux/kernel} as {\bf full tarballs}
    (complete kernel sources) and {\bf patches} (differences between
    two kernel versions).
  \item But for kernel development, one generally uses the Git version
    control system:
    \begin{itemize}
    \item Fetch the entire kernel sources and history\\
      \code{git clone git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git}
    \item Create a branch that starts at a specific stable version\\
      \code{git checkout -b <name-of-branch> v3.11}
    \item Web interface available at
      \url{http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/}.
    \item Read more about Git at \url{http://git-scm.com/}
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Linux kernel size (1)}
  \begin{itemize}
  \item Linux 3.10 sources:\\
    Raw size: 573 MB (43,000 files, approx 15,800,000 lines)\\
    \code{gzip} compressed tar archive: 105 MB\\
    \code{bzip2} compressed tar archive: 83 MB (better)\\
    \code{xz} compressed tar archive: 69 MB (best)
  \item Minimum Linux 2.6.29 compiled kernel size with
    \code{CONFIG_EMBEDDED}, for a kernel that boots a QEMU PC (IDE
    hard drive, ext2 filesystem, ELF executable support):\\
    532 KB (compressed), 1325 KB (raw)
  \item Why are these sources so big?\\
    Because they include thousands of device drivers, many network
    protocols, support many architectures and filesystems...
  \item The Linux core (scheduler, memory management...) is pretty
    small!
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Linux kernel size (2)}
  As of kernel version 3.10.
  \begin{columns}
    \column{0.5\textwidth}
    \begin{itemize}
    \item \kpath{drivers/}: 49.4\%
    \item \kpath{arch/}: 21.9\%
    \item \kpath{fs/}: 6.0\%
    \item \kpath{include/}: 4.7\%
    \item \kpath{sound/}: 4.4\%
    \item \kpath{Documentation/}: 4.0\%
    \item \kpath{net/}: 3.9\%
    \item \kpath{firmware/}: 1.0\%
    \item \kpath{kernel/}: 1.0\%
    \end{itemize}
    \column{0.5\textwidth}
    \begin{itemize}
    \item \kpath{tools/}: 0.9\%
    \item \kpath{scripts/}: 0.5\%
    \item \kpath{mm/}: 0.5\%
    \item \kpath{crypto/}: 0.4\%
    \item \kpath{security/}: 0.4\%
    \item \kpath{lib/}: 0.4\%
    \item \kpath{block/}: 0.2\%
    \item ...
    \end{itemize}
  \end{columns}
\end{frame}
