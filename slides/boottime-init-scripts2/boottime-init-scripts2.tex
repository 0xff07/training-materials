\begin{frame}
\frametitle{Reduce size - some figures}
\begin{itemize}
	\item Using the default {\em uClibc} configuration from Buildroot:
		\begin{tabular}{| c || c | c | c |} \hline
		& not stripped & striped & sstriped \\ \hline
		{\em uClibc} & 68590 kB & 43090 kB & 41060 kB \\
		{\em uClibc} with Thumb-2 & 63660 kB & 38200 kB & 37830 kB \\
		{\em eglibc} & 71190 kB & 46130 kB & 45670kB \\ \hline
		\end{tabular} \\
	\item Note that changing the whole toolchain is required when changing the libc.
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Initramfs}
An idea is to use a small initramfs, just enough to start the critical
application and then start the final root filesystem by using
\code{switch_root}. Also:
\begin{itemize}
	\item use a lighter C library reduced to the minimum,
		{\em uClibc} if you are not yet using it for your root filesystem
	\item use statically linked applications (less CPU overhead, less
		libraries to load). \code{BR2_PREFER_STATIC_LIB} in Buildroot.
	\item don't compress your initramfs if your kernel is already
		compressed
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Results}
Before: 9.67s
\begin{center}
    \includegraphics[width=\textwidth]{slides/boottime-init-scripts/timechart-init.pdf}
\end{center}
After:
\begin{center}
    \includegraphics[width=\textwidth]{slides/boottime-init-scripts2/timechart-initramfs.pdf}
\end{center}
Total: 8.54s.
\end{frame}

\setuplabframe
{Reducing time in init-scripts}
{
\begin{itemize}
\item Simplify user-space scripts
\end{itemize}
}
