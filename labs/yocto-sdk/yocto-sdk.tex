\subchapter{Develop your application in the Poky SDK}{Generate and use
the Poky SDK}

During this lab, you will:
\begin{itemize}
  \item Build the Poky SDK
  \item Install the SDK
  \item Compile an application for the BeagleBone in the SDK
    environment
\end{itemize}

\section{Build the SDK}

Two SDKs are available, one only embedding a toolchain and the
other one allowing for application development. We will use the latter one
here.

First, build an SDK for the \code{felabs-image-minimal} image, with
the \code{populate_sdk} task.

Once the SDK is generated, a script will be available at
\code{tmp/deploy/sdk}.

\section{Install the SDK}

Open a new console to be sure that no extra environment variable is set.
We mean to show you how the SDK sets up a fully working environment.

Install the SDK in \code{$HOME/yocto-labs/sdk} by executing the script
generated at the previous step.

\section{Set up the environment}

Go into the directory where you installed the SDK
(\code{$HOME/yocto-labs/sdk}). Source the environment script:
\begin{verbatim}
source <script>
\end{verbatim}

Have a look on the exported environment variables:
\begin{verbatim}
env
\end{verbatim}

\section{Compile an application in the SDK}

Download the essential \code{Ctris} sources at
\url{http://www.hackl.dhs.org/data/download/download.php?file=ctris-0.42.tar.bz2}

Extract the source in the SDK:
\begin{verbatim}
tar xf ctris-0.42.tar.bz2
cd ctris-0.42
\end{verbatim}

Then modify the Makefile, to make sure that the environment variables exported
by the SDK script are not overridden.

Compile, copy the generated binary (\code{ctris}) on the board and
test the application!
