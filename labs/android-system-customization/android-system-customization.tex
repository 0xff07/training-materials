\subchapter{System Customization}{Learn how to build a customized Android}

After this lab, you will be able to:
\begin{itemize}
  \item Use the product configuration system
  \item Change the default wallpaper
  \item Add extra properties to the system
  \item Use the product overlays
\end{itemize}

\section{Setup a new product}

Using the \code{git checkout} command on the files you modified,
revert the changes you made to the beagleboard product and define
a new product named \textit{training} instead\footnote{Remember
that all the source files we have were obtained from various git
repositories. This allows to cancel changes or to get back to
earlier versions.}.  This product will have all the
attributes of the beagleboard product for now, plus the extra packages
we will add along the labs.

As we are still using the same platform, the product name returned by the
kernel doesn't change, even though we compiled a different product. Change
the name of the product that is used through the command line passed to the
kernel to match the name of your product. You can pass the product name through
the \code{androidboot.hardware} kernel parameter.

As we will need to copy prebuilt files to the image, we will prefer to
declare prebuilt modules over the deprecated \code{PRODUCT_COPY_FILES}
mechanism.

The system should compile and boot flawlessly on the DevKit8000, with all the
corrections we made earlier.

\section{Change the default wallpaper}

First, set up an empty overlay in your product directory.

The default wallpaper is located in \code{frameworks/base/core/res/res/drawable/}.
Use the overlay mechanism to replace the wallpaper by a custom one without
modifying the original source code.
